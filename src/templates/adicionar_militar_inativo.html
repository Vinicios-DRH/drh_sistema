{% import 'form_macros.html' as macros %}
{% extends 'base.html' %}

{% block head %}
<script src="{{ url_for('static', filename='js/adicionar_militar.js') }}"></script>
{% endblock %}

{% block body %}
<section class="bg-light py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="card shadow-lg border-0 rounded-4">
                    <div class="card-body p-5">
                        <div class="text-center mb-4">
                            <img src="{{ url_for('static', filename='img/logobm.png') }}" alt="Logo CBMAM" width="80"
                                class="img-fluid rounded-circle">
                            <h3 class="mt-3 text-secondary">Cadastro de Militar Inativo</h3>
                        </div>

                        <form method="POST" enctype="multipart/form-data" class="needs-validation" novalidate>
                            {{ form_militar.csrf_token }}
                            {% if form_militar.errors %}
                            <div class="alert alert-danger">
                                <h5 class="mb-2"><strong>Erros no preenchimento:</strong></h5>
                                <ul class="mb-0">
                                    {% for field, errors in form_militar.errors.items() %}
                                    {% for error in errors %}
                                    <li><strong>{{ form_militar[field].label.text }}:</strong> {{ error }}</li>
                                    {% endfor %}
                                    {% endfor %}
                                </ul>
                            </div>
                            {% endif %}

                            <div class="form-check form-switch mb-4">
                                {{ form_militar.inativo(class="form-check-input", id="inativo") }}
                                <label class="form-check-label ms-2" for="inativo">Marcar como Inativo</label>
                            </div>

                            <div class="row g-3">
                                <div class="col-md-6">
                                    {{ macros.render_field(form_militar.nome_completo, 'Nome Completo') }}
                                </div>
                                <div class="col-md-4">
                                    {{ macros.render_field(form_militar.nome_guerra, 'Nome de Guerra') }}
                                </div>
                                <div class="col-md-2">
                                    {{ macros.render_field(form_militar.estado_civil_id, 'Estado Civil') }}
                                </div>
                                <div class="col-md-6">
                                    {{ macros.render_field(form_militar.nome_pai, 'Nome do Pai') }}
                                </div>
                                <div class="col-md-6">
                                    {{ macros.render_field(form_militar.nome_mae, 'Nome da Mãe') }}
                                </div>
                                <div class="col-md-3">
                                    {{ macros.render_field(form_militar.matricula, 'Matrícula') }}
                                </div>
                                <div class="col-md-3">
                                    {{ macros.render_field(form_militar.rg, 'RG') }}
                                </div>
                                <div class="col-md-3">
                                    {{ macros.render_field(form_militar.pis_pasep, 'PIS/PASEP') }}
                                </div>
                                <div class="col-md-3">
                                    {{ macros.render_field(form_militar.cpf, 'CPF') }}
                                </div>
                                <div class="col-md-4">
                                    {{ macros.render_field(form_militar.posto_grad_id, 'Posto/Graduação') }}
                                </div>
                                <div class="col-md-4">
                                    {{ macros.render_field(form_militar.quadro_id, 'Quadro') }}
                                </div>
                                <div class="col-md-4">
                                    {{ macros.render_field(form_militar.sexo, 'Sexo') }}
                                </div>
                                <div class="col-md-3">
                                    {{ macros.render_field(form_militar.data_nascimento, 'Data de Nascimento',
                                    extra_attrs='oninput="calculateAge()"') }}
                                </div>
                                <div class="col-12">
                                    {{ macros.render_field(form_militar.endereco, 'Endereço') }}
                                </div>
                                <div class="col-12">
                                    {{ macros.render_field(form_militar.complemento, 'Complemento') }}
                                </div>
                                <div class="col-md-6">
                                    {{ macros.render_field(form_militar.cidade, 'Cidade') }}
                                </div>
                                <div class="col-md-4">
                                    {{ macros.render_field(form_militar.estado, 'Estado') }}
                                </div>
                                <div class="col-md-2">
                                    {{ macros.render_field(form_militar.cep, 'CEP') }}
                                </div>
                                <div class="col-md-4">
                                    {{ macros.render_field(form_militar.celular, 'Celular') }}
                                </div>
                                <div class="col-md-4">
                                    {{ macros.render_field(form_militar.email, 'Email') }}
                                </div>
                                <div class="col-md-6">
                                    {{ macros.render_field(form_militar.modalidade, 'Modalidade') }}
                                </div>
                                <div class="col-md-6">
                                    {{ macros.render_field(form_militar.doe, 'D.O.E') }}
                                </div>

                            </div>

                            <div class="text-center mt-5">
                                {{ form_militar.botao_submit(class="btn btn-primary px-5 py-2") }}
                            </div>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<script src="{{ url_for('static', filename='js/adicionar_militar_down.js') }}"></script>
{% endblock %}